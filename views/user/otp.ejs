<%- include('../layouts/user/header.ejs') -%>


<div class="wrapper">

    <div class="" style="margin-left: 10rem;">
        <img src="/static/images/logo.png" alt="Mjestic" style="height: 33px; width: 44px;">
    </div>

    <!-- <h2></h2> -->
    <div class="text-center">
        <h6>Please enter the one-time password <br> to verify your account</h6>
        <div><span>A code has been sent to </span>
            <%= email %>
        </div>
    </div>
   

        <form action="/otp" method="post">
            <% if (messages.error) { %>
                <div class="alert alert-dark d-flex align-items-center" role="alert" id="error-alert">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2 " viewBox="0 0 16 16" role="img" aria-label="Warning:">
                      <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                    </svg>
                    <div >
                        <strong>Hey !</strong>
                      <%=  messages.error %>
                    </div>
                  </div>
                  
                
            <% } %>
            <% if(locals.email) { %>
                <input type="hidden" name="email" value="<%= email %>">
                <% } %>
            <div class="d-flex" id="inputs">
                <input class="otp m-2 text-center form-control rounded py-4" type="text" name="otp1" placeholder=""
                    inputmode="numeric" maxlength="1" required>
                <input class="otp m-2 text-center form-control rounded" type="text" name="otp2" placeholder=""
                    inputmode="numeric" maxlength="1" required>
                <input class="otp m-2 text-center form-control rounded" type="text" name="otp3" placeholder=""
                    inputmode="numeric" maxlength="1" required>
                <input class="otp m-2 text-center form-control rounded" type="text" name="otp4" placeholder=""
                    inputmode="numeric" maxlength="1" required>
            </div>

            <div class="input-box button">
                <input type="Submit" value="Log in">
            </div>
                                           
            <div class="text pt-2" style="text-align: center; margin-top: 2rem; display: flex; flex-direction: column;">     
                <span id="timer" class="time"></span>
                <span type="button" id="resend" style="color: rgb(48, 94, 150); margin: 5px;">Resend</span>
            </div>

        </form>
</div>


<script src="/static/js/user/otp.js"></script>


<%- include('../layouts/user/footer.ejs') -%>