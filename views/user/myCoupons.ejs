<%- include('../layouts/user/header1.ejs') -%>

<!-- Breadcrumb Section Begin -->
<section class="breadcrumb-option">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb__text">
                    <h4>Majestic</h4>
                    <div class="breadcrumb__links">
                        <a href="/">Home</a>
                        <a href="/profile">User Profile</a>
                        <span>Address</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Breadcrumb Section End -->

<div class="container container1">
   <div class="main-body">
      <div class="row" id="addressEdit">
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin"
                                class="rounded-circle" width="150">
                            <div class="mt-3">
                                <h4><%= locals.user.name %></h4>
                                <p class="text-muted font-size-sm"><%= locals.user.email %></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mt-3">
                    <div class="user-headerrr">
                        <div class="menu-itemmm"><h>Profile</h3></div><hr>
                      </div>
                
                      <!-- Sidebar Menu -->
                  
                      <div class="menu-itemmm" ><a href="/address">Manage Address</a></div><hr>
                      <div class="menu-itemmm" ><a href="/orders">Orders</a></div><hr>
                      <!-- <div class="menu-itemmm"><a href="/wishlist">Wishlist</a></div><hr> -->
                      <div class="menu-itemmm"><a href="/mywallet">Wallet</a></div><hr>
                      <div class="menu-itemmm"><a href="/mycoupons">MyCoupons</a></div><hr>
                      <!-- <div class="menu-itemmm" ><a href="#">Report a Bug</a></div><hr> -->
                      <div class="menu-itemmm" ><a  href="/signout" >Logout</a></div><hr>
                      
                </div>
            </div>
            <div class="col-md-8" style="padding: 24px">
                <div
                  class="div row"
                  style="
                    background-color: #fff;
                    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08);
                  "
                >
                  <% if (coupon) { %> <% coupon.forEach((el, i) => { %>
                  <div class="card ms-1 mt-2 mb-3 me-1" style="width: 19rem">
                    <div class="card-body">
                      <h5 class="card-title"><%= el.name %></h5>
                      <p class="card-text">
                        Coupons start from <%= el.activatedDate %>
                      </p>
                      <p>
                        get Discount of <strong><%=el.discount%></strong> with min of <strong><%=el.minAmountSpend%> rupees</strong> of purchase
                      </p>
                      <p class="card-text mb-1">
                        Coupons expire on <%= el.expiryDate %>
                      </p>
                      <p class="card-text"><%= el.code %></p>
                      <button
                        class="btn btn-dark btn-sm copyButton"
                        data-clipboard-text="<%= el.code %>"
                      >
                        Copy
                      </button>
                    </div>
                  </div>
                  <% }) %> <% } else { %> <% } %>
                </div>
              </div>



            <%- include('../layouts/user/footer1.ejs') -%>   
            
            
            <script>
                document.addEventListener("DOMContentLoaded", function () {
                  var clipboardButtons = document.querySelectorAll(".copyButton");
          
                  clipboardButtons.forEach((button, i) => {
                    var clipboard = new ClipboardJS(button);
          
                    clipboard.on("success", function (e) {
                      button.innerText = "Copied";
                    });
          
                    clipboard.on("error", function (e) {
                      console.error("Error copying to clipboard: ", e);
                    });
                  });
                });
              </script>
          
              <!-- Include Clipboard.js from CDN -->
              <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
          
              <script
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
                crossorigin="anonymous"
              ></script>